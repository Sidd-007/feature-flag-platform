(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8253:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(2898);let a=(0,s.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},8708:function(e,t,r){Promise.resolve().then(r.bind(r,9754))},9754:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return z}});var s=r(7437),a=r(1785),n=r(8906),i=r(3089),l=r(9346),c=r(2021),d=r(6582),o=r(5309),u=r(5271),m=r(4606),x=r(8692),f=r(6454),h=r(8110),p=r(2898);let j=(0,p.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var g=r(9883),N=r(8253),b=r(4033),v=r(2265),y=r(1865),w=r(9482);let C=w.Ry({name:w.Z_().min(1,"Organization name is required"),description:w.Z_().optional()});function z(){let e=(0,b.useRouter)(),{toast:t}=(0,x.pm)(),[r,p]=(0,v.useState)([]),[w,z]=(0,v.useState)(!0),[k,R]=(0,v.useState)(!0),O=(0,y.cI)({resolver:(0,h.F)(C),defaultValues:{name:"",description:""}});(0,v.useEffect)(()=>{let t=localStorage.getItem("auth_token");if(!t){e.push("/login");return}S()},[e]);let S=async()=>{z(!0);try{let r=await f.Z.getOrganizations();if(r.error){if(401===r.status){e.push("/login");return}R(!1),t({title:"Error loading organizations",description:r.error,variant:"destructive"})}else{R(!0);let e=r.data;e&&"object"==typeof e&&!Array.isArray(e)&&(e.data?e=e.data:e.organizations?e=e.organizations:e.items&&(e=e.items));let t=Array.isArray(e)?e:[];p(t)}}catch(e){console.error("Error loading organizations:",e),R(!1),t({title:"Failed to load organizations",description:"Could not connect to the API",variant:"destructive"})}finally{z(!1)}},F=async e=>{try{let r=await f.Z.createOrganization({name:e.name,description:e.description});r.error?t({title:"Failed to create organization",description:r.error,variant:"destructive"}):(t({title:"Success",description:'Organization "'.concat(e.name,'" created successfully.')}),O.reset(),await S())}catch(e){t({title:"Failed to create organization",description:"An unexpected error occurred",variant:"destructive"})}},Z=t=>{e.push("/organizations/".concat(t))};return w?(0,s.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,s.jsxs)("div",{className:"mx-auto max-w-7xl",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between py-8",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.O,{className:"h-8 w-64"}),(0,s.jsx)(o.O,{className:"h-4 w-96"})]}),(0,s.jsx)(o.O,{className:"h-10 w-20"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"xl:col-span-2",children:(0,s.jsx)(o.O,{className:"h-96 w-full"})}),(0,s.jsx)("div",{children:(0,s.jsx)(o.O,{className:"h-32 w-full"})}),(0,s.jsx)("div",{className:"xl:col-span-3",children:(0,s.jsx)(o.O,{className:"h-64 w-full"})})]})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-background",children:(0,s.jsxs)("div",{className:"mx-auto max-w-7xl p-6",children:[(0,s.jsx)(a.mr,{title:"Feature Flag Platform",children:(0,s.jsxs)(i.z,{variant:"outline",onClick:()=>{f.Z.logout(),e.push("/login")},className:"gap-2",children:[(0,s.jsx)(j,{className:"h-4 w-4"}),"Logout"]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"xl:col-span-2",children:(0,s.jsx)(a.$0,{title:"Create New Organization",description:"Start by creating an organization to manage your feature flags",children:(0,s.jsx)(c.l0,{...O,children:(0,s.jsxs)("form",{onSubmit:O.handleSubmit(F),className:"space-y-6",children:[(0,s.jsx)(c.Wi,{control:O.control,name:"name",render:e=>{let{field:t}=e;return(0,s.jsxs)(c.xJ,{children:[(0,s.jsx)(c.lX,{children:"Organization Name"}),(0,s.jsx)(c.NI,{children:(0,s.jsx)(d.I,{placeholder:"My Company",...t,className:"h-9"})}),(0,s.jsx)(c.zG,{})]})}}),(0,s.jsx)(c.Wi,{control:O.control,name:"description",render:e=>{let{field:t}=e;return(0,s.jsxs)(c.xJ,{children:[(0,s.jsx)(c.lX,{children:"Description (Optional)"}),(0,s.jsx)(c.NI,{children:(0,s.jsx)(m.g,{placeholder:"Description of your organization",...t,className:"min-h-[80px]"})}),(0,s.jsx)(c.zG,{})]})}}),(0,s.jsxs)(i.z,{type:"submit",className:"w-full gap-2",disabled:O.formState.isSubmitting,children:[(0,s.jsx)(g.Z,{className:"h-4 w-4"}),O.formState.isSubmitting?"Creating...":"Create"]})]})})})}),(0,s.jsx)("div",{children:(0,s.jsxs)(a.$0,{title:"API Status",children:[(0,s.jsx)(a.zZ,{variant:k?"success":"error",children:k?"Connected to localhost:8080":"Disconnected from API"}),!k&&(0,s.jsx)(i.z,{variant:"outline",size:"sm",onClick:S,className:"mt-4",children:"Retry Connection"})]})}),(0,s.jsx)("div",{className:"xl:col-span-3",children:(0,s.jsx)(a.$0,{title:"Your Organizations",description:"Organizations you have access to",children:0===r.length?(0,s.jsx)(a.ub,{icon:N.Z,title:"No organizations yet",description:"Create your first organization above to get started with feature flags."}):(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(u.iA,{children:[(0,s.jsx)(u.xD,{children:(0,s.jsxs)(u.SC,{children:[(0,s.jsx)(u.ss,{children:"Name"}),(0,s.jsx)(u.ss,{children:"ID"}),(0,s.jsx)(u.ss,{children:"Created"}),(0,s.jsx)(u.ss,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(u.RM,{children:r.map(e=>(0,s.jsxs)(u.SC,{className:"hover:bg-muted/50",children:[(0,s.jsx)(u.pj,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),e.description&&(0,s.jsx)("div",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]})}),(0,s.jsx)(u.pj,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:e.id}),(0,s.jsx)(n.q,{text:e.id})]})}),(0,s.jsx)(u.pj,{children:(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:new Date(e.created_at).toLocaleDateString()})}),(0,s.jsx)(u.pj,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,s.jsx)(i.z,{onClick:()=>Z(e.id),size:"sm",children:"Open"}),(0,s.jsxs)(l.h_,{children:[(0,s.jsx)(l.$F,{asChild:!0,children:(0,s.jsx)(i.z,{variant:"ghost",size:"sm",children:"â‹¯"})}),(0,s.jsxs)(l.AW,{align:"end",children:[(0,s.jsx)(l.Xi,{onClick:()=>Z(e.id),children:"Open"}),(0,s.jsx)(l.Xi,{children:"Rename"}),(0,s.jsx)(l.Xi,{className:"text-destructive",children:"Delete"})]})]})]})})]},e.id))})]})})})})]})]})})}},8906:function(e,t,r){"use strict";r.d(t,{q:function(){return u}});var s=r(7437),a=r(3089),n=r(1839),i=r(8692),l=r(345),c=r(2442),d=r(6224),o=r(2265);function u(e){let{text:t,className:r,size:u="icon",variant:m="ghost"}=e,[x,f]=(0,o.useState)(!1),{toast:h}=(0,i.pm)(),p=async()=>{try{await navigator.clipboard.writeText(t),f(!0),h({title:"Copied",description:"Text copied to clipboard"}),setTimeout(()=>f(!1),2e3)}catch(e){h({title:"Failed to copy",description:"Could not copy text to clipboard",variant:"destructive"})}};return(0,s.jsx)(n.pn,{children:(0,s.jsxs)(n.u,{children:[(0,s.jsx)(n.aJ,{asChild:!0,children:(0,s.jsx)(a.z,{variant:m,size:u,onClick:p,className:(0,l.cn)("h-8 w-8",r),"aria-label":"Copy ".concat(t),children:x?(0,s.jsx)(c.Z,{className:"h-3 w-3"}):(0,s.jsx)(d.Z,{className:"h-3 w-3"})})}),(0,s.jsx)(n._v,{children:(0,s.jsx)("p",{children:x?"Copied!":"Copy to clipboard"})})]})})}},1785:function(e,t,r){"use strict";r.d(t,{qi:function(){return s.q},ub:function(){return l},mr:function(){return c},$0:function(){return o},zZ:function(){return m}});var s=r(8906),a=r(7437),n=r(3089),i=r(345);function l(e){let{icon:t,title:r,description:s,action:l,className:c}=e;return(0,a.jsxs)("div",{className:(0,i.cn)("flex flex-col items-center justify-center py-12 px-4 text-center",c),children:[(0,a.jsx)("div",{className:"rounded-full bg-muted p-4 mb-4",children:(0,a.jsx)(t,{className:"h-6 w-6 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:r}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6 max-w-sm",children:s}),l&&(0,a.jsx)(n.z,{onClick:l.onClick,children:l.label})]})}function c(e){let{title:t,description:r,children:s,className:n}=e;return(0,a.jsxs)("div",{className:(0,i.cn)("flex items-center justify-between py-8",n),children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:t}),r&&(0,a.jsx)("p",{className:"text-muted-foreground",children:r})]}),s&&(0,a.jsx)("div",{className:"flex items-center gap-3",children:s})]})}var d=r(609);function o(e){let{title:t,description:r,children:s,className:n,headerAction:l}=e;return(0,a.jsxs)(d.Zb,{className:(0,i.cn)("rounded-2xl border bg-card p-5 md:p-6 shadow-sm",n),children:[(0,a.jsx)(d.Ol,{className:"p-0 pb-5",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.ll,{className:"text-lg font-semibold",children:t}),r&&(0,a.jsx)(d.SZ,{className:"mt-1",children:r})]}),l&&(0,a.jsx)("div",{children:l})]})}),(0,a.jsx)(d.aY,{className:"p-0",children:s})]})}let u={success:"bg-green-500",warning:"bg-amber-500",error:"bg-red-500",info:"bg-blue-500"};function m(e){let{variant:t,children:r,className:s}=e;return(0,a.jsxs)("div",{className:(0,i.cn)("flex items-center gap-2",s),children:[(0,a.jsx)("div",{className:(0,i.cn)("h-2 w-2 rounded-full",u[t]),"aria-hidden":"true"}),(0,a.jsxs)("span",{className:"text-sm",children:[r,(0,a.jsxs)("span",{className:"sr-only",children:[" - ",t," status"]})]})]})}},609:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},eW:function(){return u},ll:function(){return c}});var s=r(7437),a=r(2265),n=r(345);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},2021:function(e,t,r){"use strict";r.d(t,{NI:function(){return p},Wi:function(){return u},l0:function(){return d},lX:function(){return h},xJ:function(){return f},zG:function(){return g}});var s=r(7437),a=r(2265),n=r(7256),i=r(1865),l=r(345),c=r(6429);let d=i.RV,o=a.createContext({}),u=e=>{let{...t}=e;return(0,s.jsx)(o.Provider,{value:{name:t.name},children:(0,s.jsx)(i.Qr,{...t})})},m=()=>{let e=a.useContext(o),t=a.useContext(x),{getFieldState:r,formState:s}=(0,i.Gc)(),n=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},x=a.createContext({}),f=a.forwardRef((e,t)=>{let{className:r,...n}=e,i=a.useId();return(0,s.jsx)(x.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",r),...n})})});f.displayName="FormItem";let h=a.forwardRef((e,t)=>{let{className:r,...a}=e,{error:n,formItemId:i}=m();return(0,s.jsx)(c._,{ref:t,className:(0,l.cn)(n&&"text-destructive",r),htmlFor:i,...a})});h.displayName="FormLabel";let p=a.forwardRef((e,t)=>{let{...r}=e,{error:a,formItemId:i,formDescriptionId:l,formMessageId:c}=m();return(0,s.jsx)(n.g7,{ref:t,id:i,"aria-describedby":a?"".concat(l," ").concat(c):"".concat(l),"aria-invalid":!!a,...r})});p.displayName="FormControl";let j=a.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:n}=m();return(0,s.jsx)("p",{ref:t,id:n,className:(0,l.cn)("text-[0.8rem] text-muted-foreground",r),...a})});j.displayName="FormDescription";let g=a.forwardRef((e,t)=>{var r;let{className:a,children:n,...i}=e,{error:c,formMessageId:d}=m(),o=c?String(null!==(r=null==c?void 0:c.message)&&void 0!==r?r:""):n;return o?(0,s.jsx)("p",{ref:t,id:d,className:(0,l.cn)("text-[0.8rem] font-medium text-destructive",a),...i,children:o}):null});g.displayName="FormMessage"},6582:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var s=r(7437),a=r(2265),n=r(345);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"},6429:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var s=r(7437),a=r(2265),n=r(6743),i=r(6061),l=r(345);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.f,{ref:t,className:(0,l.cn)(c(),r),...a})});d.displayName=n.f.displayName},5271:function(e,t,r){"use strict";r.d(t,{RM:function(){return c},SC:function(){return o},iA:function(){return i},pj:function(){return m},ss:function(){return u},xD:function(){return l}});var s=r(7437),a=r(2265),n=r(345);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...a})})});i.displayName="Table";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...a})});l.displayName="TableHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...a})});c.displayName="TableBody";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})});d.displayName="TableFooter";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});o.displayName="TableRow";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:(0,n.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...a})});u.displayName="TableHead";let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:(0,n.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...a})});m.displayName="TableCell";let x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...a})});x.displayName="TableCaption"},4606:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var s=r(7437),a=r(2265),n=r(345);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...a})});i.displayName="Textarea"}},function(e){e.O(0,[461,968,64,996,243,938,971,472,744],function(){return e(e.s=8708)}),_N_E=e.O()}]);