(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{8253:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(2898);let s=(0,n.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},7472:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(2898);let s=(0,n.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},9617:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(2898);let s=(0,n.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},2549:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(2898);let s=(0,n.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},603:function(e,t,r){Promise.resolve().then(r.bind(r,4265))},4265:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var n=r(7437),s=r(3089),a=r(1472),i=r(2021),o=r(6582),l=r(4606),c=r(8110),d=r(2265),u=r(1865),p=r(9482);let m=p.Ry({name:p.Z_().min(1,"Project name is required").max(100,"Name must be 100 characters or less"),slug:p.Z_().min(1,"Project slug is required").max(50,"Slug must be 50 characters or less").regex(/^[a-z0-9-]+$/,"Slug can only contain lowercase letters, numbers, and hyphens"),description:p.Z_().max(500,"Description must be 500 characters or less").optional()});function h(e){let{open:t,onOpenChange:r,onSubmit:p}=e,h=(0,u.cI)({resolver:(0,c.F)(m),defaultValues:{name:"",slug:"",description:""}}),f=h.watch("name");(0,d.useEffect)(()=>{if(f&&!h.formState.dirtyFields.slug){let e=f.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");h.setValue("slug",e,{shouldValidate:!0})}},[f,h]);let x=async e=>{try{await p(e),h.reset(),r(!1)}catch(e){}},j=()=>{h.reset(),r(!1)};return(0,n.jsx)(a.Vq,{open:t,onOpenChange:j,children:(0,n.jsxs)(a.cZ,{className:"sm:max-w-md",children:[(0,n.jsxs)(a.fK,{children:[(0,n.jsx)(a.$N,{children:"Create Project"}),(0,n.jsx)(a.Be,{children:"Create a new project to organize your feature flags by application or team."})]}),(0,n.jsx)(i.l0,{...h,children:(0,n.jsxs)("form",{onSubmit:h.handleSubmit(x),className:"space-y-4",children:[(0,n.jsx)(i.Wi,{control:h.control,name:"name",render:e=>{let{field:t}=e;return(0,n.jsxs)(i.xJ,{children:[(0,n.jsx)(i.lX,{children:"Project Name *"}),(0,n.jsx)(i.NI,{children:(0,n.jsx)(o.I,{placeholder:"My Awesome Project",...t,className:"h-9"})}),(0,n.jsx)(i.zG,{})]})}}),(0,n.jsx)(i.Wi,{control:h.control,name:"slug",render:e=>{let{field:t}=e;return(0,n.jsxs)(i.xJ,{children:[(0,n.jsx)(i.lX,{children:"Project Slug *"}),(0,n.jsx)(i.NI,{children:(0,n.jsx)(o.I,{placeholder:"my-awesome-project",...t,className:"h-9 font-mono text-sm"})}),(0,n.jsx)(i.zG,{}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Used in URLs and API calls. Auto-generated from name but can be edited."})]})}}),(0,n.jsx)(i.Wi,{control:h.control,name:"description",render:e=>{let{field:t}=e;return(0,n.jsxs)(i.xJ,{children:[(0,n.jsx)(i.lX,{children:"Description"}),(0,n.jsx)(i.NI,{children:(0,n.jsx)(l.g,{placeholder:"Optional description of your project...",...t,className:"min-h-[80px] resize-none"})}),(0,n.jsx)(i.zG,{})]})}}),(0,n.jsxs)(a.cN,{children:[(0,n.jsx)(s.z,{type:"button",variant:"outline",onClick:j,children:"Cancel"}),(0,n.jsx)(s.z,{type:"submit",disabled:h.formState.isSubmitting||!h.formState.isValid,children:h.formState.isSubmitting?"Creating...":"Create Project"})]})]})})]})})}var f=r(1785),x=r(150),j=r(609),g=r(9346),y=r(7472),v=r(2898);let N=(0,v.Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);var b=r(9617);let w=(0,v.Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),k=(0,v.Z)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);function C(e){let{project:t,onOpen:r,onRename:a,onArchive:i}=e,[o,l]=(0,d.useState)(!1);return(0,n.jsxs)(j.Zb,{className:"group hover:shadow-md transition-all duration-200 hover:border-primary/20 cursor-pointer rounded-2xl border",onClick:()=>r(t),onContextMenu:e=>{e.preventDefault(),l(!0)},children:[(0,n.jsx)(j.Ol,{className:"pb-3",children:(0,n.jsxs)("div",{className:"flex items-start justify-between",children:[(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("h3",{className:"font-semibold text-lg mb-1 truncate",children:t.name}),t.description&&(0,n.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:t.description}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("code",{className:"text-xs bg-muted px-2 py-1 rounded font-mono",children:t.key}),(0,n.jsx)(f.qi,{text:t.key})]})]}),(0,n.jsxs)(g.h_,{open:o,onOpenChange:l,children:[(0,n.jsx)(g.$F,{asChild:!0,children:(0,n.jsx)(s.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),l(!0)},children:(0,n.jsx)(y.Z,{className:"h-4 w-4"})})}),(0,n.jsxs)(g.AW,{align:"end",children:[(0,n.jsxs)(g.Xi,{onClick:e=>{e.stopPropagation(),r(t)},className:"gap-2",children:[(0,n.jsx)(N,{className:"h-4 w-4"}),"Open"]}),(0,n.jsxs)(g.Xi,{onClick:e=>{e.stopPropagation(),a(t)},className:"gap-2",children:[(0,n.jsx)(b.Z,{className:"h-4 w-4"}),"Rename"]}),(0,n.jsxs)(g.Xi,{onClick:e=>{e.stopPropagation(),i(t)},className:"gap-2 text-destructive focus:text-destructive",children:[(0,n.jsx)(w,{className:"h-4 w-4"}),"Archive"]})]})]})]})}),(0,n.jsx)(j.aY,{className:"pb-3",children:(0,n.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(k,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"0 envs"})," "]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{children:"0 flags"})," "]})]})}),(0,n.jsx)(j.eW,{className:"pt-0",children:(0,n.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,n.jsxs)(x.C,{variant:"secondary",className:"text-xs",children:["Updated ",new Date(t.updated_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),(0,n.jsxs)(s.z,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity gap-2",onClick:e=>{e.stopPropagation(),r(t)},children:[(0,n.jsx)(N,{className:"h-4 w-4"}),"Open"]})]})})]})}var P=r(5309),D=r(8692),M=r(573),O=r(6454),R=r(8253),I=r(9883),Z=r(4033);function S(){let e=(0,Z.useParams)(),t=e.orgId,{toast:r}=(0,D.pm)(),a=(0,M.c)(),[i,o]=(0,d.useState)([]),[l,c]=(0,d.useState)(!0),[u,p]=(0,d.useState)(!1),m=(0,d.useCallback)(async()=>{c(!0);try{let e=await O.Z.getProjects(t);if(e.error)r({title:"Error loading projects",description:e.error,variant:"destructive"});else{let t=e.data;if(t&&"object"==typeof t&&!Array.isArray(t)){let e=t;t=e.data||e.projects||e.items||t}let r=Array.isArray(t)?t:[];o(r)}}catch(e){r({title:"Failed to load projects",description:"An unexpected error occurred",variant:"destructive"})}finally{c(!1)}},[t,r]);(0,d.useEffect)(()=>{m()},[m]),(0,d.useEffect)(()=>{let e=new URLSearchParams(window.location.search);if("last"===e.get("goto")&&i.length>0){let e=a.getLastSelection(t);if((null==e?void 0:e.projectId)&&(null==e?void 0:e.envKey)){a.navigateToFlags(e.projectId,e.envKey);return}}},[i,t,a]);let f=async e=>{try{let n=await O.Z.createProject(t,{name:e.name,slug:e.slug,description:e.description});if(n.error)r({title:"Failed to create project",description:n.error,variant:"destructive"});else{r({title:"Success",description:'Project "'.concat(e.name,'" created successfully.')}),await m();let t=n.data;(null==t?void 0:t.id)&&a.navigateToProject(t.id)}}catch(e){r({title:"Failed to create project",description:"An unexpected error occurred",variant:"destructive"})}};return l?(0,n.jsxs)("div",{className:"p-8",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)(P.O,{className:"h-8 w-64 mb-2"}),(0,n.jsx)(P.O,{className:"h-4 w-96"})]}),(0,n.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((e,t)=>(0,n.jsx)(P.O,{className:"h-48 rounded-2xl"},t))})]}):(0,n.jsxs)("div",{className:"p-8",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Projects"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Manage your feature flag projects and environments"})]}),0===i.length?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-16",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mb-4",children:(0,n.jsx)(R.Z,{className:"h-8 w-8 text-muted-foreground"})}),(0,n.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Create your first project"}),(0,n.jsx)("p",{className:"text-muted-foreground mb-6 text-center max-w-md",children:"Projects help you organize your feature flags by application, team, or environment. Get started by creating your first project."}),(0,n.jsxs)(s.z,{onClick:()=>p(!0),className:"gap-2",children:[(0,n.jsx)(I.Z,{className:"h-4 w-4"}),"Create Project"]})]}):(0,n.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(e=>(0,n.jsx)(C,{project:e,onOpen:e=>a.navigateToProject(e.id),onRename:()=>{r({title:"Coming soon",description:"Project renaming will be implemented soon."})},onArchive:()=>{r({title:"Coming soon",description:"Project archiving will be implemented soon."})}},e.id))}),i.length>0&&(0,n.jsx)(s.z,{className:"fixed bottom-8 right-8 rounded-full h-14 w-14 shadow-lg",onClick:()=>p(!0),children:(0,n.jsx)(I.Z,{className:"h-6 w-6"})}),(0,n.jsx)(h,{open:u,onOpenChange:p,onSubmit:f})]})}},8712:function(e,t,r){"use strict";r.d(t,{Dx:function(){return en},VY:function(){return er},aV:function(){return et},dk:function(){return es},fC:function(){return Y},h_:function(){return ee},x8:function(){return ea},xz:function(){return Q}});var n=r(2265),s=r(5744),a=r(2210),i=r(6989),o=r(966),l=r(3763),c=r(9249),d=r(2799),u=r(2730),p=r(5606),m=r(9381),h=r(1244),f=r(3386),x=r(5859),j=r(7256),g=r(7437),y="Dialog",[v,N]=(0,i.b)(y),[b,w]=v(y),k=e=>{let{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:c=!0}=e,d=n.useRef(null),u=n.useRef(null),[p,m]=(0,l.T)({prop:s,defaultProp:a??!1,onChange:i,caller:y});return(0,g.jsx)(b,{scope:t,triggerRef:d,contentRef:u,contentId:(0,o.M)(),titleId:(0,o.M)(),descriptionId:(0,o.M)(),open:p,onOpenChange:m,onOpenToggle:n.useCallback(()=>m(e=>!e),[m]),modal:c,children:r})};k.displayName=y;var C="DialogTrigger",P=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=w(C,r),o=(0,a.e)(t,i.triggerRef);return(0,g.jsx)(m.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":L(i.open),...n,ref:o,onClick:(0,s.Mj)(e.onClick,i.onOpenToggle)})});P.displayName=C;var D="DialogPortal",[M,O]=v(D,{forceMount:void 0}),R=e=>{let{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=w(D,t);return(0,g.jsx)(M,{scope:t,forceMount:r,children:n.Children.map(s,e=>(0,g.jsx)(p.z,{present:r||i.open,children:(0,g.jsx)(u.h,{asChild:!0,container:a,children:e})}))})};R.displayName=D;var I="DialogOverlay",Z=n.forwardRef((e,t)=>{let r=O(I,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=w(I,e.__scopeDialog);return a.modal?(0,g.jsx)(p.z,{present:n||a.open,children:(0,g.jsx)(z,{...s,ref:t})}):null});Z.displayName=I;var S=(0,j.Z8)("DialogOverlay.RemoveScroll"),z=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,s=w(I,r);return(0,g.jsx)(f.Z,{as:S,allowPinchZoom:!0,shards:[s.contentRef],children:(0,g.jsx)(m.WV.div,{"data-state":L(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),_="DialogContent",A=n.forwardRef((e,t)=>{let r=O(_,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=w(_,e.__scopeDialog);return(0,g.jsx)(p.z,{present:n||a.open,children:a.modal?(0,g.jsx)(F,{...s,ref:t}):(0,g.jsx)(E,{...s,ref:t})})});A.displayName=_;var F=n.forwardRef((e,t)=>{let r=w(_,e.__scopeDialog),i=n.useRef(null),o=(0,a.e)(t,r.contentRef,i);return n.useEffect(()=>{let e=i.current;if(e)return(0,x.Ry)(e)},[]),(0,g.jsx)(V,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.Mj)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,s.Mj)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;n&&e.preventDefault()}),onFocusOutside:(0,s.Mj)(e.onFocusOutside,e=>e.preventDefault())})}),E=n.forwardRef((e,t)=>{let r=w(_,e.__scopeDialog),s=n.useRef(!1),a=n.useRef(!1);return(0,g.jsx)(V,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||r.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"!==t.detail.originalEvent.type||(a.current=!0));let n=t.target,i=r.triggerRef.current?.contains(n);i&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),V=n.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,u=w(_,r),p=n.useRef(null),m=(0,a.e)(t,p);return(0,h.EW)(),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.M,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:o,children:(0,g.jsx)(c.XB,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":L(u.open),...l,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(K,{titleId:u.titleId}),(0,g.jsx)(J,{contentRef:p,descriptionId:u.descriptionId})]})]})}),W="DialogTitle",q=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,s=w(W,r);return(0,g.jsx)(m.WV.h2,{id:s.titleId,...n,ref:t})});q.displayName=W;var T="DialogDescription",$=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,s=w(T,r);return(0,g.jsx)(m.WV.p,{id:s.descriptionId,...n,ref:t})});$.displayName=T;var H="DialogClose",X=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=w(H,r);return(0,g.jsx)(m.WV.button,{type:"button",...n,ref:t,onClick:(0,s.Mj)(e.onClick,()=>a.onOpenChange(!1))})});function L(e){return e?"open":"closed"}X.displayName=H;var U="DialogTitleWarning",[B,G]=(0,i.k)(U,{contentName:_,titleName:W,docsSlug:"dialog"}),K=({titleId:e})=>{let t=G(U),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return n.useEffect(()=>{if(e){let t=document.getElementById(e);t||console.error(r)}},[r,e]),null},J=({contentRef:e,descriptionId:t})=>{let r=G("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return n.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");if(t&&r){let e=document.getElementById(t);e||console.warn(s)}},[s,e,t]),null},Y=k,Q=P,ee=R,et=Z,er=A,en=q,es=$,ea=X}},function(e){e.O(0,[461,968,64,996,243,938,707,971,472,744],function(){return e(e.s=603)}),_N_E=e.O()}]);