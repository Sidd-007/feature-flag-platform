"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{3089:function(e,t,n){n.d(t,{z:function(){return d}});var o=n(7437),s=n(2265),a=n(7256),r=n(6061),i=n(345);let c=(0,r.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:n,variant:s,size:r,asChild:d=!1,...l}=e,u=d?a.g7:"button";return(0,o.jsx)(u,{className:(0,i.cn)(c({variant:s,size:r,className:n})),ref:t,...l})});d.displayName="Button"},9346:function(e,t,n){n.d(t,{$F:function(){return u},AW:function(){return g},Xi:function(){return p},h_:function(){return l}});var o=n(7437),s=n(2265),a=n(8883),r=n(7158),i=n(2442),c=n(6369),d=n(345);let l=a.fC,u=a.xz;a.ZA,a.Uv,a.Tr,a.Ee;let f=s.forwardRef((e,t)=>{let{className:n,inset:s,children:i,...c}=e;return(0,o.jsxs)(a.fF,{ref:t,className:(0,d.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",n),...c,children:[i,(0,o.jsx)(r.Z,{className:"ml-auto"})]})});f.displayName=a.fF.displayName;let m=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,o.jsx)(a.tu,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...s})});m.displayName=a.tu.displayName;let g=s.forwardRef((e,t)=>{let{className:n,sideOffset:s=4,...r}=e;return(0,o.jsx)(a.Uv,{children:(0,o.jsx)(a.VY,{ref:t,sideOffset:s,className:(0,d.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...r})})});g.displayName=a.VY.displayName;let p=s.forwardRef((e,t)=>{let{className:n,inset:s,...r}=e;return(0,o.jsx)(a.ck,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",n),...r})});p.displayName=a.ck.displayName;let h=s.forwardRef((e,t)=>{let{className:n,children:s,checked:r,...c}=e;return(0,o.jsxs)(a.oC,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:r,...c,children:[(0,o.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,o.jsx)(a.wU,{children:(0,o.jsx)(i.Z,{className:"h-4 w-4"})})}),s]})});h.displayName=a.oC.displayName;let y=s.forwardRef((e,t)=>{let{className:n,children:s,...r}=e;return(0,o.jsxs)(a.Rk,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...r,children:[(0,o.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,o.jsx)(a.wU,{children:(0,o.jsx)(c.Z,{className:"h-2 w-2 fill-current"})})}),s]})});y.displayName=a.Rk.displayName;let v=s.forwardRef((e,t)=>{let{className:n,inset:s,...r}=e;return(0,o.jsx)(a.__,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",n),...r})});v.displayName=a.__.displayName;let x=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,o.jsx)(a.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",n),...s})});x.displayName=a.Z0.displayName},5309:function(e,t,n){n.d(t,{O:function(){return a}});var o=n(7437),s=n(345);function a(e){let{className:t,...n}=e;return(0,o.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-primary/10",t),...n})}},1839:function(e,t,n){n.d(t,{_v:function(){return l},aJ:function(){return d},pn:function(){return i},u:function(){return c}});var o=n(7437),s=n(2265),a=n(8567),r=n(345);let i=a.zt,c=a.fC,d=a.xz,l=s.forwardRef((e,t)=>{let{className:n,sideOffset:s=4,...i}=e;return(0,o.jsx)(a.h_,{children:(0,o.jsx)(a.VY,{ref:t,sideOffset:s,className:(0,r.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...i})})});l.displayName=a.VY.displayName},8692:function(e,t,n){n.d(t,{pm:function(){return f}});var o=n(2265);let s=0,a=new Map,r=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:n}=t;return n?r(n):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],d={toasts:[]};function l(e){d=i(d,e),c.forEach(e=>{e(d)})}function u(e){let{...t}=e,n=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),o=()=>l({type:"DISMISS_TOAST",toastId:n});return l({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:e=>{e||o()}}}),{id:n,dismiss:o,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:n}})}}function f(){let[e,t]=o.useState(d);return o.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},6454:function(e,t,n){n.d(t,{x:function(){return s}});class o{setToken(e){this.token=e,localStorage.setItem("auth_token",e)}clearToken(){this.token=null,localStorage.removeItem("auth_token")}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(this.baseURL).concat(e),o={"Content-Type":"application/json"};t.headers&&Object.assign(o,t.headers),this.token&&(o.Authorization="Bearer ".concat(this.token));try{var s;let e=await fetch(n,{...t,headers:o}),a=(null===(s=e.headers.get("content-type"))||void 0===s?void 0:s.includes("application/json"))?await e.json():await e.text();return{data:e.ok?a:void 0,error:e.ok?void 0:a.message||"HTTP ".concat(e.status),status:e.status}}catch(e){return{error:e instanceof Error?e.message:"Network error",status:0}}}async get(e){return this.request(e,{method:"GET"})}async post(e,t){return this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})}async put(e,t){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify(e)})}async login(e){var t,n;console.log("Login attempt with:",{email:e.email,password:"***"});let o=await this.request("/auth/login",{method:"POST",body:JSON.stringify(e)});console.log("Login response:",{status:o.status,error:o.error,data:o.data});let s=(null===(t=o.data)||void 0===t?void 0:t.access_token)||(null===(n=o.data)||void 0===n?void 0:n.token);return s?(this.setToken(s),console.log("Token set successfully:",s.substring(0,20)+"...")):console.log("No token found in response:",o.data),o}async logout(){return this.clearToken(),{status:200}}async getOrganizations(){console.log("Getting organizations with token:",this.token?this.token.substring(0,20)+"...":"No token");let e=await this.request("/orgs");return console.log("GET /orgs response:",e),e}async createOrganization(e){let t=e.name.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");t||(t="org");let n=Date.now().toString().slice(-6),o="".concat(t.substring(0,20),"-").concat(n),s={name:e.name,slug:o};return console.log("Creating organization with data:",s),this.request("/orgs",{method:"POST",body:JSON.stringify(s)})}async getOrganization(e){return this.request("/orgs/".concat(e))}async getProjects(e){return this.request("/orgs/".concat(e,"/projects"))}async createProject(e,t){let n={name:t.name,key:t.slug,description:t.description};return this.request("/orgs/".concat(e,"/projects"),{method:"POST",body:JSON.stringify(n)})}async getProject(e,t){return this.request("/orgs/".concat(e,"/projects/").concat(t))}async getEnvironments(e,t){return this.request("/orgs/".concat(e,"/projects/").concat(t,"/environments"))}async createEnvironment(e,t,n){return this.request("/orgs/".concat(e,"/projects/").concat(t,"/environments"),{method:"POST",body:JSON.stringify(n)})}async getFlags(e,t,n){return this.request("/orgs/".concat(e,"/projects/").concat(t,"/environments/").concat(n,"/flags"))}async createFlag(e,t,n,o){return this.request("/orgs/".concat(e,"/projects/").concat(t,"/environments/").concat(n,"/flags"),{method:"POST",body:JSON.stringify(o)})}async updateFlag(e,t,n,o,s){return this.request("/orgs/".concat(e,"/projects/").concat(t,"/environments/").concat(n,"/flags/").concat(o),{method:"PUT",body:JSON.stringify(s)})}async deleteFlag(e,t,n,o){return this.request("/orgs/".concat(e,"/projects/").concat(t,"/environments/").concat(n,"/flags/").concat(o),{method:"DELETE"})}async publishFlag(e,t,n,o){return this.request("/orgs/".concat(e,"/projects/").concat(t,"/environments/").concat(n,"/flags/").concat(o,"/publish"),{method:"POST"})}async unpublishFlag(e,t,n,o){return this.request("/orgs/".concat(e,"/projects/").concat(t,"/environments/").concat(n,"/flags/").concat(o,"/unpublish"),{method:"POST"})}async getHealth(){return this.request("/health")}constructor(){this.baseURL="http://localhost:8080/v1",this.token=null,this.token=localStorage.getItem("auth_token")}}let s=new o;t.Z=s},345:function(e,t,n){n.d(t,{cn:function(){return a}});var o=n(7042),s=n(4769);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,o.W)(t))}}}]);